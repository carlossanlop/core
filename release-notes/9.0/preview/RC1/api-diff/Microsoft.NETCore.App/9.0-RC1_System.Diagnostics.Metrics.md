# System.Diagnostics.Metrics

``` diff
 namespace System.Diagnostics.Metrics {
     public sealed class Counter<T> : Instrument<T> where T : struct {
-        public void Add(T delta, ReadOnlySpan<KeyValuePair<string, object?>> tags);
+        public void Add(T delta, [ParamCollectionAttribute, ScopedRefAttribute] ReadOnlySpan<KeyValuePair<string, object?>> tags);
     }
+    public sealed class Gauge<T> : Instrument<T> where T : struct {
+        public void Record(T value);
+        public void Record(T value, KeyValuePair<string, object?> tag);
+        public void Record(T value, KeyValuePair<string, object?> tag1, KeyValuePair<string, object?> tag2);
+        public void Record(T value, KeyValuePair<string, object?> tag1, KeyValuePair<string, object?> tag2, KeyValuePair<string, object?> tag3);
+        public void Record(T value, params KeyValuePair<string, object>[] tags);
+        public void Record(T value, in TagList tagList);
+        public void Record(T value, [ParamCollectionAttribute, ScopedRefAttribute] ReadOnlySpan<KeyValuePair<string, object?>> tags);
+    }
     public sealed class Histogram<T> : Instrument<T> where T : struct {
-        public void Record(T value, ReadOnlySpan<KeyValuePair<string, object?>> tags);
+        public void Record(T value, [ParamCollectionAttribute, ScopedRefAttribute] ReadOnlySpan<KeyValuePair<string, object?>> tags);
     }
     public abstract class Instrument {
+        protected Instrument(Meter meter, string name);
-        protected Instrument(Meter meter, string name, string? unit, string? description);
+        [EditorBrowsableAttribute(EditorBrowsableState.Never)]
+        protected Instrument(Meter meter, string name, string? unit, string? description);
-        protected Instrument(Meter meter, string name, string? unit, string? description, IEnumerable<KeyValuePair<string, object?>>? tags);
+        protected Instrument(Meter meter, string name, string? unit = null, string? description = null, IEnumerable<KeyValuePair<string, object?>>? tags = null);
     }
     public abstract class Instrument<T> : Instrument where T : struct {
+        protected Instrument(Meter meter, string name);
-        protected Instrument(Meter meter, string name, string? unit, string? description);
+        [EditorBrowsableAttribute(EditorBrowsableState.Never)]
+        protected Instrument(Meter meter, string name, string? unit, string? description);
-        protected Instrument(Meter meter, string name, string? unit, string? description, IEnumerable<KeyValuePair<string, object?>>? tags);
+        [EditorBrowsableAttribute(EditorBrowsableState.Never)]
+        protected Instrument(Meter meter, string name, string? unit, string? description, IEnumerable<KeyValuePair<string, object?>>? tags);
+        protected Instrument(Meter meter, string name, string? unit = null, string? description = null, IEnumerable<KeyValuePair<string, object?>>? tags = null, InstrumentAdvice<T>? advice = null);
+        public InstrumentAdvice<T>? Advice { get; }
     }
+    public sealed class InstrumentAdvice<T> where T : struct {
+        public InstrumentAdvice();
+        public IReadOnlyList<T>? HistogramBucketBoundaries { get; set; }
+    }
     public readonly struct Measurement<T> where T : struct {
+        public Measurement(T value, in TagList tags);
-        public Measurement(T value, ReadOnlySpan<KeyValuePair<string, object?>> tags);
+        public Measurement(T value, [ParamCollectionAttribute, ScopedRefAttribute] ReadOnlySpan<KeyValuePair<string, object?>> tags);
     }
-    public delegate void MeasurementCallback<T>(Instrument instrument, T measurement, ReadOnlySpan<KeyValuePair<string, object?>> tags, object? state);
+    public delegate void MeasurementCallback<T>(Instrument instrument, T measurement, ReadOnlySpan<KeyValuePair<string, object?>> tags, object? state) where T : struct;
     public class Meter : IDisposable {
+        public Gauge<T> CreateGauge<T>(string name) where T : struct;
+        public Gauge<T> CreateGauge<T>(string name, string unit = null, string description = null, IEnumerable<KeyValuePair<string, object?>>? tags = null) where T : struct;
+        public Histogram<T> CreateHistogram<T>(string name) where T : struct;
-        public Histogram<T> CreateHistogram<T>(string name, string unit = null, string description = null) where T : struct;
+        [EditorBrowsableAttribute(EditorBrowsableState.Never)]
+        public Histogram<T> CreateHistogram<T>(string name, string unit, string description) where T : struct;
-        public Histogram<T> CreateHistogram<T>(string name, string unit, string description, IEnumerable<KeyValuePair<string, object?>> tags) where T : struct;
+        [EditorBrowsableAttribute(EditorBrowsableState.Never)]
+        public Histogram<T> CreateHistogram<T>(string name, string unit, string description, IEnumerable<KeyValuePair<string, object?>>? tags) where T : struct;
+        public Histogram<T> CreateHistogram<T>(string name, string unit = null, string description = null, IEnumerable<KeyValuePair<string, object?>>? tags = null, InstrumentAdvice<T>? advice = null) where T : struct;
     }
     public sealed class UpDownCounter<T> : Instrument<T> where T : struct {
-        public void Add(T delta, ReadOnlySpan<KeyValuePair<string, object?>> tags);
+        public void Add(T delta, [ParamCollectionAttribute, ScopedRefAttribute] ReadOnlySpan<KeyValuePair<string, object?>> tags);
     }
 }
```

